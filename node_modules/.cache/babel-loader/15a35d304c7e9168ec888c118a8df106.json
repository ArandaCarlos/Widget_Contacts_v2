{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\ReactJs\\\\WIDGET_CONTACTOS_V2\\\\my-app\\\\src\\\\Context\\\\ZohoContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { ZOHO } from '../assets/Zoho';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ZohoContext = /*#__PURE__*/createContext();\nexport default function ZohoProvider({\n  children\n}) {\n  _s();\n\n  const [module, setModule] = useState(null);\n  const [entity, setEntity] = useState(null);\n  const [id, setID] = useState(null);\n  const [record, setRecord] = useState(null);\n  const [stores, setStores] = useState(null);\n  const [contactos, setContactos] = useState(null);\n  const [contactoActual, setContactoActual] = useState(null);\n  const [contactosActualizar, setContactoActualizar] = useState([]);\n  useEffect(() => {\n    const initWidget = () => {\n      ZOHO.embeddedApp.on(\"PageLoad\", function (data) {\n        console.log(data);\n        let id = data.EntityId;\n        setID(id);\n        console.log(id);\n        ZOHO.CRM.API.getRecord({\n          Entity: \"Brands\",\n          RecordID: id\n        }).then(result => {\n          setRecord(result.data[0]);\n        });\n        ZOHO.CRM.API.getRelatedRecords({\n          Entity: \"Brands\",\n          RecordID: id,\n          RelatedList: \"Stores\"\n        }).then(data => {\n          setStores(data.data);\n          console.log(data.data);\n        });\n        ZOHO.CRM.API.getRelatedRecords({\n          Entity: \"Brands\",\n          RecordID: id,\n          RelatedList: \"Contactos\"\n        }).then(data => {\n          setContactos(data.data);\n          console.log(data.data);\n        });\n      });\n      ZOHO.embeddedApp.init();\n    };\n\n    setTimeout(() => {\n      initWidget();\n    }, 1000);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ZohoContext.Provider, {\n    value: {\n      module: module,\n      entity: entity,\n      id: id,\n      stores: stores,\n      contactos: contactos,\n      contactoActual: contactoActual,\n      setContactoActual: setContactoActual,\n      contactosActualizar: contactosActualizar,\n      setContactoActualizar: setContactoActualizar\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ZohoProvider, \"bHDTaZ4+nRiJRrV/71GlcO9CsX4=\");\n\n_c = ZohoProvider;\n;\nexport const useZohoContext = () => {\n  _s2();\n\n  const context = useContext(ZohoContext);\n  if (!context) throw new Error(\"UseWidget inside ZohoContext\");\n  const {\n    entity,\n    module,\n    id,\n    stores,\n    contactos,\n    contactoActual,\n    setContactoActual,\n    contactosActualizar,\n    setContactoActualizar\n  } = context;\n  return {\n    entity,\n    module,\n    id,\n    stores,\n    contactos,\n    contactoActual,\n    setContactoActual,\n    contactosActualizar,\n    setContactoActualizar\n  };\n};\n\n_s2(useZohoContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ZohoProvider\");","map":{"version":3,"sources":["C:/Users/Usuario/Documents/ReactJs/WIDGET_CONTACTOS_V2/my-app/src/Context/ZohoContext.js"],"names":["createContext","useContext","useState","useEffect","ZOHO","ZohoContext","ZohoProvider","children","module","setModule","entity","setEntity","id","setID","record","setRecord","stores","setStores","contactos","setContactos","contactoActual","setContactoActual","contactosActualizar","setContactoActualizar","initWidget","embeddedApp","on","data","console","log","EntityId","CRM","API","getRecord","Entity","RecordID","then","result","getRelatedRecords","RelatedList","init","setTimeout","useZohoContext","context","Error"],"mappings":"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","sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport {ZOHO} from '../assets/Zoho';\r\n\r\nconst ZohoContext = createContext();\r\n\r\nexport default function ZohoProvider({children}) {\r\n\r\n   const [module, setModule] = useState(null);\r\n   const [entity, setEntity] = useState(null);\r\n   const [id, setID] = useState(null);\r\n   const [record, setRecord] = useState(null);\r\n   const [stores, setStores] = useState(null);\r\n   const [contactos, setContactos] = useState(null); \r\n   const [contactoActual, setContactoActual] = useState(null);\r\n   const [contactosActualizar, setContactoActualizar] = useState([]);\r\n\r\n   useEffect(() => {\r\n\r\n      const initWidget = () => {\r\n         ZOHO.embeddedApp.on(\"PageLoad\", function (data) {\r\n            console.log(data);\r\n            let id = data.EntityId;\r\n            setID(id);\r\n            console.log(id);\r\n            ZOHO.CRM.API.getRecord({Entity:\"Brands\",RecordID:id}).then((result)=>{\r\n               setRecord(result.data[0])\r\n            })\r\n            ZOHO.CRM.API.getRelatedRecords({Entity:\"Brands\",RecordID:id,RelatedList:\"Stores\"}).then((data)=>{\r\n               setStores(data.data);\r\n               console.log(data.data);\r\n            })\r\n            ZOHO.CRM.API.getRelatedRecords({Entity:\"Brands\",RecordID:id,RelatedList:\"Contactos\"}).then((data)=>{\r\n               setContactos(data.data);\r\n               console.log(data.data);\r\n            })\r\n            \r\n         \r\n         });\r\n         \r\n\r\n         ZOHO.embeddedApp.init();\r\n      }\r\n\r\n      setTimeout(()=> {\r\n         initWidget();\r\n      }, 1000);\r\n      \r\n   }, []);\r\n   \r\n   return (\r\n      <ZohoContext.Provider value={{module: module, entity: entity, id:id, stores:stores, contactos:contactos, contactoActual:contactoActual, setContactoActual:setContactoActual, contactosActualizar:contactosActualizar, setContactoActualizar:setContactoActualizar}}>\r\n         {children}\r\n      </ZohoContext.Provider>\r\n   );\r\n};\r\n\r\nexport const useZohoContext = () => {\r\n\r\n   const context = useContext(ZohoContext);\r\n\r\n   if (!context) throw new Error(\"UseWidget inside ZohoContext\");\r\n\r\n   const { entity, module, id, stores,contactos, contactoActual, setContactoActual, contactosActualizar, setContactoActualizar } = context;\r\n\r\n   return {\r\n      entity, module, id, stores, contactos, contactoActual, setContactoActual, contactosActualizar, setContactoActualizar \r\n   }\r\n}"]},"metadata":{},"sourceType":"module"}